<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- ################### BEGIN HEAD ################# -->
<HTML>
<HEAD>
<TITLE>mozdev.org - protozilla: notes</TITLE>
</HEAD>
<!-- ################### END HEAD ################### -->

<!-- ################### BEGIN BODY ################# -->
<BODY BGCOLOR="#FFFFFF" BACKGROUND="http://www.mozdev.org/sharedimages/background.gif" LINK="#990000" ALINK="#CC3333" VLINK="#990000" marginwidth="0" marginheight="0" leftmargin="0" topmargin="0">

<!-- ################### BEGIN TOP ################## -->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%">
<TR>
 <TD BGCOLOR="#990000"><a href="http://www.mozdev.org"><img src="http://www.mozdev.org/sharedimages/mozdev.gif" width="148" height="69" border="0"></a></TD>
 <TD BGCOLOR="#990000"><img src="http://www.mozdev.org/sharedimages/header.gif" width="458" height="69"></TD>
 <TD BGCOLOR="#990000" width="100%" align="right" valign="bottom">
  <img src="http://www.mozdev.org/sharedimages/boxes.gif" width="62" height="11">
 </TD>
</TR>
</TABLE>
<!-- ################### BEGIN TOP ################## -->

<!-- ############################# MAIN TABLE BEGIN ####################### -->

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%">


<TR>
<TD BGCOLOR="#FF9900" WIDTH="100%" COLSPAN="2" ALIGN="right">
<font color="#FFFFFF" size="-1">
<!-- current date -->
Monday January 29th 2001</font>&nbsp;</TD>
</TR>



<TR>
<TD COLSPAN="2">&nbsp;</TD>
</TR>

<TR>
<!-- ########################### BEGIN LEFT NAV ################################## -->
<TD align="left" VALIGN="top">

<!-- ACTIVE PROJECTS -->
<p><img src="http://www.mozdev.org/sharedimages/nav_active_projects.gif" width="190" height="20"><br><br>
<font size="-1">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://amoeba.mozdev.org">Amoeba</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://aphrodite.mozdev.org">Aphrodite</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://chameleon.mozdev.org">Chameleon</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://dino.mozdev.org">Dino</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://fabula.mozdev.org">Fabula</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://games.mozdev.org">Games</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://jabberzilla.mozdev.org">JabberZilla</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://jslib.mozdev.org">JSLib</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://mozoffice.mozdev.org">mozOffice</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://protozilla.mozdev.org">Protozilla</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://sherlock.mozdev.org">Sherlock</A><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://www.mozdev.org/projects.html">List all projects...</A><br>
</font>
<!-- ACTIVE PROJECTS -->



<!-- NEW PROJECTS -->
<p><img src="http://www.mozdev.org/sharedimages/nav_new_projects.gif" width="190" height="20"><br><br>
<font size="-1">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://hermes.mozdev.org">Hermes</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://lizzard.mozdev.org">Lizzard</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://mozmp.mozdev.org">mozmp</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://snippets.mozdev.org">Snippets</A><br>
</font>
<!-- NEW PROJECTS -->



<!-- FOR DEVELOPERS -->
<p><img src="http://www.mozdev.org/sharedimages/for_developers.gif" width="190" height="20"><br><br>
<font size="-1">
<!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://www.mozdev.org/contact.html">Directory</A><br> -->
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://www.mozdev.org/docs/index.html">Documentation</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://www.mozdev.org/notes/index.html">Notes</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://www.mozdev.org/tools.html">Tools</A><br>
</font>
<!-- FOR DEVELOPERS -->



<!-- SITE INFO -->
<p><img src="http://www.mozdev.org/sharedimages/nav_info.gif" width="190" height="20"><br><br>
<font size="-1">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://www.mozdev.org/about.html">About</A><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://www.mozdev.org/contact.html">Contact</A><br>
<!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A href="http://www.mozdev.org/search/">Search</A><br> -->
</font>
<!-- SITE INFO -->


</TD>
<!-- ########################### END LEFT NAV #################################### -->



<!-- ########################### BEGIN MAIN CONTENT #################################### -->
<TD align="left" VALIGN="top" width="100%">







<font color="#990000" face="helvetica"><B>Protozilla</B></font>&nbsp;&nbsp;&nbsp;<img src="/sharedimages/boxes.gif"><br><br>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%">

<!--
<TR>
<TD VALIGN="top"><img src="/sharedimages/subprojects.gif" width="107" height="20"></TD>
<TD VALIGN="top" WIDTH="100%">
<font size="-1">
</font>
</TD>
</TR>
-->

<TR>
<TD VALIGN="top"><img src="/sharedimages/resources.gif" width="107" height="20"></TD>
<TD VALIGN="top" WIDTH="100%">
<font size="-1">
<a href="http://protozilla.mozdev.org/index.html">Home</a> |
<a href="http://protozilla.mozdev.org/white-paper.html">White Paper</a> |
<a href="http://protozilla.mozdev.org/examples.html">Examples</a> |
<a href="http://protozilla.mozdev.org/download.html">Download</a> |
<a href="http://protozilla.mozdev.org/troubles.html">Troubleshooting</a> |
<a href="http://protozilla.mozdev.org/notes.html">Notes</a> |
<a href="news://new.mozdev.org/public.mozdev.protozilla">Newsgroup</a> | 
<a href="http://mozdev.org/mailman/listinfo/protozilla/">Mailing List</a> | 
<a href="http://protozilla.mozdev.org/source.html">Source Code</a> | 
<a href="http://protozilla.mozdev.org/bugs.html">Bugs</a> | 
<a href="http://protozilla.mozdev.org/screenshots.html">Screenshots</a> <br><br>
</font>
</TD>
</TR>
</TABLE>
<p>

<h3>Notes on using Protozilla</h3>
<p>

<b>Protocol developers and end-users</b>
<p>

(Please see the <a href="examples.html">examples</a> page for now. More
information will be added here later.)
<p>

<b>Mozilla/XUL developers</b>
<p>

Protozilla extends the capabilities of Mozilla by allowing you to execute
an arbitrary program on the system, write to its standard input and read
from its standard output. These capabilities may be accessed through
XPCOM or
<a href="http://mozilla.org/scriptable/">XPConnect</a>,
i.e., through privileged Javascript calls or raw C++ code.
<p>

The Protozilla <a href="source.html">source code</a> sits in the root
directory named <tt><a
href="http://www.mozdev.org/source/browse/protozilla/pipella/">pipella</a></tt>. The
C++ portion of the code is in the directory <tt><a
href="http://www.mozdev.org/source/browse/protozilla/pipella/base/">pipella/base</a></tt>. The
<tt>*.idl</tt> files in this directory implement the following XPConnect
interfaces:

<ul>
<li><tt>nsIIPCService</tt>: Top-level interface providing utility functions
<li><tt>nsIPipeChannel</tt>: Mid-level interface for creating a channel
<li><tt>nsIPipeTransport</tt>: Low-level interface for creating and communicating
                      with processes
<li><tt>nsIPipeConsole</tt>: Helper interface to manage a console buffer
</ul>
<p>

Example: The <tt>nsIIPCService</tt> interface provides the following methods:
<pre>
    string exec(in string command);
    string getEnv(in string name);
</pre>
<p>

To create and use an <tt>nsIIPCService</tt> object, you need the following
Javascript code:
<pre>
const NS_IPCSERVICE_CONTRACTID = "@mozilla.org/protozilla/ipc-service;1";
var ipcService, curDate, curPath;
ipcService = Components.classes[NS_PIPELLA_CONTRACTID].createInstance();
ipcService = ipcService.QueryInterface(Components.interfaces.nsIIPCService);
curDate = ipcService.exec("date");
curPath = ipcService.getEnv("PATH");
</pre>

To try out the above Javascript code, go to the directory where the mozilla
binary resides. Run the <tt>xpcshell</tt> command found there, and
cut-and-paste the above commands (after
<a href="download.html">installing</a> Protozilla, of
course).
<p>

The function call <tt>ipcService.exec("date")</tt>
will execute the system command <tt>date</tt> and return its output as
a string (rather like the backtick operator <tt>`date`</tt> in Perl or
in Unix shells).
The function call <tt>ipcService.getEnv("PATH")</tt> returns the value of the
system PATH environment variable as a string.
<p>
</TD>
</TR>

<!-- ##################### END MAIN CONTENT ############################# -->

<TR>
<TD>
<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.collab.net"><img src="http://www.mozdev.org/sharedimages/collabnetlabel.gif" border="0"></a>
</TD>

<TD valign="top">
<br><br>
<font color="#999999" size="-1">Copyright 2000 mozdev.org.  
All rights reserved. Contact us at 
<a href="mailto:feedback@mozdev.org">feedback@mozdev.org</a>&nbsp;
</font>
<br><br>
</TD>
</TR>

</TABLE>

<!-- ######################## END MAIN TABLE ########################### -->

</BODY>
</HTML>



<!-- project = protozilla ***************************** -->


